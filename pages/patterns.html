<div class="container">
    <a href="#" class="back-button">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Ç–µ–º</a>
    
    <div class="page-header">
        <h1>üé® –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h1>
        <p>–ú–æ–¥—É–ª—å, Singleton, Factory, Observer –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞</p>
    </div>

    <div class="content-section">
        <h2>–ú–æ–¥—É–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω</h2>
        
        <div class="code-block">
            <span class="code-block-title">–ü—Ä–∏–º–µ—Ä 1: –ú–æ–¥—É–ª—å (IIFE)</span>
            <pre><code><span class="keyword">const</span> <span class="variable">MyModule</span> = (<span class="function">function</span>() {
    <span class="comment">// –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</span>
    <span class="keyword">let</span> <span class="variable">privateVar</span> = <span class="number">0</span>;
    
    <span class="comment">// –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</span>
    <span class="function">function</span> <span class="function">privateFunction</span>() {
        <span class="function">console</span>.<span class="function">log</span>(<span class="string">"–ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"</span>);
    }
    
    <span class="comment">// –ü—É–±–ª–∏—á–Ω—ã–π API</span>
    <span class="keyword">return</span> {
        <span class="function">increment</span>() {
            <span class="variable">privateVar</span>++;
        },
        <span class="function">getValue</span>() {
            <span class="keyword">return</span> <span class="variable">privateVar</span>;
        }
    };
})();

<span class="variable">MyModule</span>.<span class="function">increment</span>();
<span class="function">console</span>.<span class="function">log</span>(<span class="variable">MyModule</span>.<span class="function">getValue</span>());  <span class="comment">// 1</span>
<span class="comment">// MyModule.privateVar;  // undefined (–ø—Ä–∏–≤–∞—Ç–Ω–∞—è!)</span></code></pre>
        </div>
    </div>

    <div class="content-section">
        <h2>Singleton</h2>
        
        <div class="code-block">
            <span class="code-block-title">–ü—Ä–∏–º–µ—Ä 2: Singleton</span>
            <pre><code><span class="keyword">class</span> <span class="class-name">Singleton</span> {
    <span class="keyword">static</span> <span class="variable">instance</span> = <span class="keyword">null</span>;
    
    <span class="function">constructor</span>() {
        <span class="keyword">if</span> (<span class="function">Singleton</span>.<span class="variable">instance</span>) {
            <span class="keyword">return</span> <span class="function">Singleton</span>.<span class="variable">instance</span>;
        }
        <span class="function">Singleton</span>.<span class="variable">instance</span> = <span class="keyword">this</span>;
        <span class="keyword">this</span>.<span class="variable">data</span> = <span class="string">"–î–∞–Ω–Ω—ã–µ"</span>;
    }
    
    <span class="keyword">static</span> <span class="function">getInstance</span>() {
        <span class="keyword">if</span> (!<span class="function">Singleton</span>.<span class="variable">instance</span>) {
            <span class="function">Singleton</span>.<span class="variable">instance</span> = <span class="keyword">new</span> <span class="function">Singleton</span>();
        }
        <span class="keyword">return</span> <span class="function">Singleton</span>.<span class="variable">instance</span>;
    }
}

<span class="keyword">const</span> <span class="variable">s1</span> = <span class="function">Singleton</span>.<span class="function">getInstance</span>();
<span class="keyword">const</span> <span class="variable">s2</span> = <span class="function">Singleton</span>.<span class="function">getInstance</span>();
<span class="function">console</span>.<span class="function">log</span>(<span class="variable">s1</span> === <span class="variable">s2</span>);  <span class="comment">// true (–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç)</span></code></pre>
        </div>
    </div>

    <div class="content-section">
        <h2>Factory</h2>
        
        <div class="code-block">
            <span class="code-block-title">–ü—Ä–∏–º–µ—Ä 3: –§–∞–±—Ä–∏–∫–∞</span>
            <pre><code><span class="function">function</span> <span class="function">createUser</span>(<span class="variable">type</span>, <span class="variable">name</span>) {
    <span class="keyword">if</span> (<span class="variable">type</span> === <span class="string">"admin"</span>) {
        <span class="keyword">return</span> {
            <span class="variable">name</span>,
            <span class="variable">role</span>: <span class="string">"admin"</span>,
            <span class="function">permissions</span>: [<span class="string">"read"</span>, <span class="string">"write"</span>, <span class="string">"delete"</span>]
        };
    } <span class="keyword">else if</span> (<span class="variable">type</span> === <span class="string">"user"</span>) {
        <span class="keyword">return</span> {
            <span class="variable">name</span>,
            <span class="variable">role</span>: <span class="string">"user"</span>,
            <span class="function">permissions</span>: [<span class="string">"read"</span>]
        };
    }
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span>(<span class="string">`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø: ${type}`</span>);
}

<span class="keyword">const</span> <span class="variable">admin</span> = <span class="function">createUser</span>(<span class="string">"admin"</span>, <span class="string">"–ò–≤–∞–Ω"</span>);
<span class="keyword">const</span> <span class="variable">user</span> = <span class="function">createUser</span>(<span class="string">"user"</span>, <span class="string">"–ü–µ—Ç—Ä"</span>);</code></pre>
        </div>
    </div>

    <div class="content-section">
        <h2>Observer</h2>
        
        <div class="code-block">
            <span class="code-block-title">–ü—Ä–∏–º–µ—Ä 4: –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å</span>
            <pre><code><span class="keyword">class</span> <span class="class-name">EventEmitter</span> {
    <span class="function">constructor</span>() {
        <span class="keyword">this</span>.<span class="variable">events</span> = {};
    }
    
    <span class="function">on</span>(<span class="variable">event</span>, <span class="variable">callback</span>) {
        <span class="keyword">if</span> (!<span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>]) {
            <span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>] = [];
        }
        <span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>].<span class="function">push</span>(<span class="variable">callback</span>);
    }
    
    <span class="function">emit</span>(<span class="variable">event</span>, <span class="variable">data</span>) {
        <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>]) {
            <span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>].<span class="function">forEach</span>(<span class="variable">callback</span> =&gt; <span class="variable">callback</span>(<span class="variable">data</span>));
        }
    }
    
    <span class="function">off</span>(<span class="variable">event</span>, <span class="variable">callback</span>) {
        <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>]) {
            <span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>] = <span class="keyword">this</span>.<span class="variable">events</span>[<span class="variable">event</span>].<span class="function">filter</span>(<span class="variable">cb</span> =&gt; <span class="variable">cb</span> !== <span class="variable">callback</span>);
        }
    }
}

<span class="keyword">const</span> <span class="variable">emitter</span> = <span class="keyword">new</span> <span class="function">EventEmitter</span>();
<span class="variable">emitter</span>.<span class="function">on</span>(<span class="string">"data"</span>, (<span class="variable">data</span>) =&gt; <span class="function">console</span>.<span class="function">log</span>(<span class="string">"–ü–æ–ª—É—á–µ–Ω–æ:"</span>, <span class="variable">data</span>));
<span class="variable">emitter</span>.<span class="function">emit</span>(<span class="string">"data"</span>, <span class="string">"–ø—Ä–∏–≤–µ—Ç"</span>);  <span class="comment">// "–ü–æ–ª—É—á–µ–Ω–æ: –ø—Ä–∏–≤–µ—Ç"</span></code></pre>
        </div>
    </div>
</div>

